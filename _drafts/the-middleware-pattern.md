http://johnbender.us/2012/04/28/middleware-as-a-general-purpose-abstraction/
